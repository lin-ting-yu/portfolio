{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./router-event.service\";\nexport let AnimationFrameService = /*#__PURE__*/(() => {\n  class AnimationFrameService {\n    constructor(router) {\n      this.router = router; // 動畫 方法\n\n      this.requestAnimationFrame = window.requestAnimationFrame;\n      this.aniamtionFrameList = [];\n    }\n\n    bindingAniamtionFrame(fn) {\n      const path = this.router.getPathName();\n      this.aniamtionFrameList.push({\n        path,\n        fn\n      });\n    }\n\n    filterFrameLis() {\n      const path = this.router.getPathName();\n      this.aniamtionFrameList = this.aniamtionFrameList.filter(event => event.path === path);\n    }\n\n    clearFrameList() {\n      this.aniamtionFrameList = [];\n    }\n\n    unbindingAniamtionFrame() {\n      this.clearFrameList();\n      this.cancelAnimationFrame(); // console.log('45646AAAA54');\n    }\n\n    cancelAnimationFrame() {\n      cancelAnimationFrame(this.animationFrame);\n    }\n\n    eachAn() {\n      if (this.aniamtionFrameList.length === 0) {\n        this.cancelAnimationFrame();\n      }\n\n      this.aniamtionFrameList.forEach(event => event.fn());\n    }\n\n    startAniamtionFrame() {\n      this.eachAn();\n      this.animationFrame = this.requestAnimationFrame(() => this.startAniamtionFrame());\n    }\n\n  }\n\n  AnimationFrameService.ɵfac = function AnimationFrameService_Factory(t) {\n    return new (t || AnimationFrameService)(i0.ɵɵinject(i1.RouterEventService));\n  };\n\n  AnimationFrameService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AnimationFrameService,\n    factory: AnimationFrameService.ɵfac,\n    providedIn: 'root'\n  });\n  return AnimationFrameService;\n})();","map":null,"metadata":{},"sourceType":"module"}