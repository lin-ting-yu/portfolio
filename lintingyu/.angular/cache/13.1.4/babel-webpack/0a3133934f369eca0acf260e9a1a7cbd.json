{"ast":null,"code":"import { PageComponent } from '../pageBase/page.component';\nimport { workDatas } from '../data/app-data-work.const';\nimport { NavigationEnd } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../pageBase/_service/router-event.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../pageBase/_service/animation-frame.service\";\nimport * as i4 from \"../layout/layout-common/layout-common.component\";\nimport * as i5 from \"../layout/layout-work/layout-work.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../component/scroll-effect/scroll-effect.component\";\nimport * as i8 from \"../component/img-and-text/i-t-layout-big-img/i-t-layout-big-img.component\";\nimport * as i9 from \"../component/img-and-text/i-t-layout-two-big-img/i-t-layout-two-big-img.component\";\nimport * as i10 from \"../component/img-and-text/i-t-layout-img-text/i-t-layout-img-text.component\";\nimport * as i11 from \"../component/img-and-text/i-t-layout-imgs-text/i-t-layout-imgs-text.component\";\n\nfunction WorkComponent_section_3_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-i-t-layout-big-img\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const layout_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", layout_r1);\n  }\n}\n\nfunction WorkComponent_section_3_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-i-t-layout-two-big-img\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const layout_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", layout_r1);\n  }\n}\n\nfunction WorkComponent_section_3_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-i-t-layout-img-text\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const layout_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", layout_r1);\n  }\n}\n\nfunction WorkComponent_section_3_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"app-i-t-layout-imgs-text\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const layout_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"data\", layout_r1);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"small\": a0\n  };\n};\n\nfunction WorkComponent_section_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 4);\n    i0.ɵɵelementStart(1, \"app-scroll-effect\");\n    i0.ɵɵtemplate(2, WorkComponent_section_3_ng_container_2_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(3, WorkComponent_section_3_ng_container_3_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(4, WorkComponent_section_3_ng_container_4_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵtemplate(5, WorkComponent_section_3_ng_container_5_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const layout_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, layout_r1.layout !== \"bigImg\" && layout_r1.layout !== \"twoBigImg\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", layout_r1.layout === \"bigImg\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", layout_r1.layout === \"twoBigImg\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", layout_r1.layout === \"imgAndText\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", layout_r1.layout === \"imgsAndText\");\n  }\n}\n\nexport let WorkComponent = /*#__PURE__*/(() => {\n  class WorkComponent extends PageComponent {\n    constructor(routerEvent, router, anFrame) {\n      super();\n      this.routerEvent = routerEvent;\n      this.router = router;\n      this.anFrame = anFrame; // 所有頁面資訊\n\n      this.workDatas = workDatas; // 當前頁名稱\n\n      this.pageName = ''; // 前後前頁資料\n\n      this.prevPageData = null;\n      this.nextPageData = null;\n      this.navigationSubscription = this.router.events.subscribe(e => {\n        // If it is a NavigationEnd event re-initalise the component\n        if (e instanceof NavigationEnd) {\n          this.initialiseInvites();\n        }\n      });\n    }\n\n    getPageName() {\n      this.pageName = this.routerEvent.getQueryParamse('page');\n    }\n\n    getSublingsData() {\n      if (this.pageName !== '') {\n        this.prevPageData = this.pageIndex === 0 ? null : this.workDatas[this.pageIndex - 1];\n        this.nextPageData = this.pageIndex === this.workDatas.length - 1 ? null : this.workDatas[this.pageIndex + 1];\n      }\n    }\n\n    setPageData() {\n      this.thisPageData = this.workDatas.filter((item, i) => {\n        if (item.linkPath === this.pageName) {\n          this.pageIndex = i;\n          return true;\n        }\n\n        return false;\n      })[0];\n    }\n\n    initialiseInvites() {\n      this.getPageName();\n      this.setPageData();\n      this.getSublingsData();\n      setTimeout(() => {\n        this.anFrame.startAniamtionFrame();\n      }, 0);\n    }\n\n    onChangePage() {\n      this.anFrame.unbindingAniamtionFrame();\n    }\n\n    ngOnInit() {\n      this.initialiseInvites();\n    }\n\n    ngAfterViewInit() {\n      this.anFrame.startAniamtionFrame();\n    }\n\n    ngOnDestroy() {\n      // avoid memory leaks here by cleaning up after ourselves. If we\n      // don't then we will continue to run our initialiseInvites()\n      // method on every navigationEnd event.\n      this.anFrame.unbindingAniamtionFrame();\n\n      if (this.navigationSubscription) {\n        this.navigationSubscription.unsubscribe();\n      }\n    }\n\n  }\n\n  WorkComponent.ɵfac = function WorkComponent_Factory(t) {\n    return new (t || WorkComponent)(i0.ɵɵdirectiveInject(i1.RouterEventService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AnimationFrameService));\n  };\n\n  WorkComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: WorkComponent,\n    selectors: [[\"app-work\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 4,\n    vars: 7,\n    consts: [[3, \"scroll\", \"full\", \"padding\"], [3, \"thisData\", \"nextData\", \"prevData\", \"onChangePage\"], [1, \"work-other-layout\"], [\"class\", \"one-section\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"one-section\", 3, \"ngClass\"], [4, \"ngIf\"], [3, \"data\"]],\n    template: function WorkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-layout-common\", 0);\n        i0.ɵɵelementStart(1, \"app-layout-work\", 1);\n        i0.ɵɵlistener(\"onChangePage\", function WorkComponent_Template_app_layout_work_onChangePage_1_listener() {\n          return ctx.onChangePage();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtemplate(3, WorkComponent_section_3_Template, 6, 7, \"section\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"scroll\", true)(\"full\", true)(\"padding\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"thisData\", ctx.thisPageData)(\"nextData\", ctx.nextPageData)(\"prevData\", ctx.prevPageData);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.thisPageData.layouts);\n      }\n    },\n    directives: [i4.LayoutCommonComponent, i5.LayoutWorkComponent, i6.NgForOf, i6.NgClass, i7.ScrollEffectComponent, i6.NgIf, i8.ITLayoutBigImgComponent, i9.ITLayoutTwoBigImgComponent, i10.ITLayoutImgTextComponent, i11.ITLayoutImgsTextComponent],\n    styles: [\".work-other-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;width:100%}.work-other-layout[_ngcontent-%COMP%]   .one-section[_ngcontent-%COMP%]{width:100%}.work-other-layout[_ngcontent-%COMP%]   .one-section[_ngcontent-%COMP%] + .one-section[_ngcontent-%COMP%]{margin-top:100px}@media screen and (max-width: 1550px){.work-other-layout[_ngcontent-%COMP%]   .one-section[_ngcontent-%COMP%] + .one-section[_ngcontent-%COMP%]{margin-top:8%}}@media screen and (max-width: 480px){.work-other-layout[_ngcontent-%COMP%]   .one-section[_ngcontent-%COMP%] + .one-section[_ngcontent-%COMP%]{margin-top:60px}}.work-other-layout[_ngcontent-%COMP%]   .one-section.small[_ngcontent-%COMP%]{max-width:70%}@media screen and (max-width: 1550px){.work-other-layout[_ngcontent-%COMP%]   .one-section.small[_ngcontent-%COMP%]{max-width:80%}}@media screen and (max-width: 1024px){.work-other-layout[_ngcontent-%COMP%]   .one-section.small[_ngcontent-%COMP%]{max-width:90%}}@media screen and (max-width: 768px){.work-other-layout[_ngcontent-%COMP%]   .one-section.small[_ngcontent-%COMP%]{max-width:80%}}@media screen and (max-width: 480px){.work-other-layout[_ngcontent-%COMP%]   .one-section.small[_ngcontent-%COMP%]{max-width:100%}}\"]\n  });\n  return WorkComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}